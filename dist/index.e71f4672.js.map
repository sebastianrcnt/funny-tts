{"mappings":"qfAEA,MACMA,EADSC,gBAAgBC,YACHC,MAAMC,GAAiB,UAAXA,EAAEC,OA+B1C,IAAIC,EAAiB,KAErBC,SAASC,iBAAiB,oBAAoB,WAC5C,MAAMC,EAAkBF,SAASG,eAAe,aAC1CC,EAAuBJ,SAASG,eAAe,UAC/CE,EAAkBL,SAASG,eAAe,aAG1CG,EAA4BC,GACVC,MAAMC,KAAKF,GAC9BG,KAAKC,GACGC,EAAAC,YAAYF,IAAWA,IAE/BG,KAAK,IA6BVZ,EAAgBa,UAxBWC,IACzB,MAAMC,EAAgBX,EAAyBJ,EAAgBgB,OAC/Dd,EAAqBc,MAAQD,GAuB/BZ,EAAgBc,QApBM,KA3BN,IAAIC,EA4BdrB,IA5BcqB,EA6BHrB,EA5BjBsB,OAAO3B,gBAAgB4B,OAAOF,IA+B5B,MAAMH,EAAgBX,EAAyBJ,EAAgBgB,OAC/Dd,EAAqBc,MAAQD,EAC7BlB,EA3DgB,EAAIwB,EAAMC,EAAOC,KAC9BJ,OAAO3B,iBACVgC,MAAM,mBAGY,IAAhBN,EAAW,IAAIO,yBAAyBJ,GAM5C,OALAH,EAASI,MAAQA,EACjBJ,EAASQ,QAAUH,EAEnBL,EAAStB,KAAO,QAChBsB,EAASS,MAAQpC,EACV2B,GAgDYU,CACfb,GAAa,SAEZc,IAECC,QAAQC,IAAIF,MAlDD,CAAIX,IACrBC,OAAO3B,gBAAgBwC,MAAMd,IAqD3Be,CAAcpC","sources":["src/scripts/main.js"],"sourcesContent":["import { alphabetMap } from \"./alphabetMap.js\";\n\nconst voices = speechSynthesis.getVoices();\nconst primaryVoice = voices.find((v) => v.lang === \"en-US\");\n\nconst createSpeaking = (text, onEnd, onError) => {\n  if (!window.speechSynthesis) {\n    alert(\"TTS가 불가능한 기기입니다\");\n  }\n\n  let speaking = new SpeechSynthesisUtterance(text);\n  speaking.onEnd = onEnd;\n  speaking.onerror = onError;\n  // speaking.lang = \"ja\";\n  speaking.lang = \"en-US\";\n  speaking.voice = primaryVoice;\n  return speaking;\n};\n\nconst startSpeaking = (speaking) => {\n  window.speechSynthesis.speak(speaking);\n};\nconst pauseSpeaking = (speaking) => {\n  window.speechSynthesis.pause(speaking);\n};\n\nconst resumeSpeaking = (speaking) => {\n  window.speechSynthesis.resume(speaking);\n};\n\nconst stopSpeaking = (speaking) => {\n  window.speechSynthesis.cancel(speaking);\n};\n\nlet globalSpeaking = null;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const ttsInputElement = document.getElementById(\"tts-input\");\n  const convertedTextElement = document.getElementById(\"result\");\n  const ttsStartElement = document.getElementById(\"tts-start\");\n\n\n  const convertHangulToAlphabets = (hangulText) => {\n    const convertedText = Array.from(hangulText)\n      .map((letter) => {\n        return alphabetMap[letter] || letter;\n      })\n      .join(\"\");\n\n    return convertedText;\n  };\n\n  const handleInputChange = (e) => {\n    const convertedText = convertHangulToAlphabets(ttsInputElement.value);\n    convertedTextElement.value = convertedText;\n  };\n\n  const handleStartClick = () => {\n    if (globalSpeaking) {\n      stopSpeaking(globalSpeaking);\n    }\n\n    const convertedText = convertHangulToAlphabets(ttsInputElement.value);\n    convertedTextElement.value = convertedText;\n    globalSpeaking = createSpeaking(\n      convertedText,\n      () => {},\n      (error) => {\n        // alert(\"오류가 발생했습니다. 콘솔을 확인하세요\");\n        console.log(error);\n      }\n    );\n\n    startSpeaking(globalSpeaking);\n  };\n\n  ttsInputElement.onkeydown = handleInputChange;\n  ttsStartElement.onclick = handleStartClick;\n});\n"],"names":["$f5e5effd96d66274$var$primaryVoice","speechSynthesis","getVoices","find","v","lang","$f5e5effd96d66274$var$globalSpeaking","document","addEventListener","ttsInputElement","getElementById","convertedTextElement","ttsStartElement","convertHangulToAlphabets","hangulText","Array","from","map","letter","$8SSSJ","alphabetMap","join","onkeydown","e","convertedText","value","onclick","speaking","window","cancel","text","onEnd","onError","alert","SpeechSynthesisUtterance","onerror","voice","$f5e5effd96d66274$var$createSpeaking","error","console","log","speak","$f5e5effd96d66274$var$startSpeaking"],"version":3,"file":"index.e71f4672.js.map"}